void charge_counter(int run_num, int evtNUM)
{
  
  TString hadron_arm;
  TString electron_arm;

  hadron_arm = "HMS";
  electron_arm = "SHMS";
    
  
  //Open data ROOTfile and call TTree
  TString file_path;
  file_path = Form("../../ROOTfiles/coin_replay_production_%d_%d.root", run_num, evtNUM);
  TFile *data_file = new TFile(file_path, "READ");

  TTree *T = (TTree*)data_file->Get("T");

  //Open root file where new histograms will be stored
  TFile *outfile = new TFile(Form("ep_coin_data_%d.root", run_num), "recreate");


  //These histograms binning MUST be exactly the same as those used in SIMC heep.C analysis

  //********* Create 1D Histograms **************
   Int_t bins = 100;

   //Kinematics Quantities
   TH1F *data_Emiss = new TH1F("data_Emiss","missing energy", 50, -0.5, 0.8);  //binwidth = 0.0025
   TH1F *data_pm = new TH1F("data_pm","missing momentum", bins, -0.05, 1.7);
   TH1F *data_W = new TH1F("data_W", "Invariant Mass, W", bins, 0.4, 2.0);

   //Kinematics Quantities with cuts
   TH1F *cut_data_Emiss = new TH1F("cut_data_Emiss","missing energy", 50, -0.5, 0.8);  //binwidth = 0.0025
   TH1F *cut_data_pm = new TH1F("cut_data_pm","missing momentum", bins, -0.05, 1.7);
   TH1F *cut_data_W = new TH1F("cut_data_W", "Invariant Mass, W", bins, 0.4, 2.0);

    //DEFINE PID CUTS
   TCut pcal = "P.cal.etot>0.1";
   TCut pcer = "P.ngcer.npeSum>1.0";
   
   TCut hcal = "H.cal.etot>0.1";
   TCut hcer = "H.cer.npeSum<1.0";

   //DEFINE KINEMATIC CUTS
   TCut W_cut = "P.kin.primary.W<1.05";   //select events below pion threshold
   TCut em_cut = "H.kin.secondary.emiss>-0.060&&H.kin.secondary.emiss<0.08";    //Emiss (-60, 80) MeV
   TCut xbj_cut = "P.kin.primary.x_bj>0.7&&P.kin.primary.x_bj<1.3"; 



   //Draw the Histograms from the TTree
   T->Draw("H.kin.secondary.emiss>>data_Emiss");
   T->Draw("H.kin.secondary.pmiss>>data_pm");
   T->Draw("P.kin.primary.W>>data_W");
   
   //Apply Emiss cut
   T->Draw("H.kin.secondary.emiss>>cut_data_Emiss", em_cut);
   T->Draw("H.kin.secondary.pmiss>>cut_data_pm", em_cut);
   T->Draw("P.kin.primary.W>>cut_data_W", em_cut);
   
   
   outfile->Write();
   outfile->Close();

}
